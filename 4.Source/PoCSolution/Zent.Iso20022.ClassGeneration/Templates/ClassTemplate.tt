<#@ template language="C#" #>
<#@ assembly name="System.Core" #>
<#@ import namespace="System.Linq" #>
<#@ import namespace="System.Text" #>
<#@ import namespace="System.Collections.Generic" #>
<#@ import namespace="Zent.Iso20022.ModelGeneration.Model" #>

namespace <#= Namespace #>;

<# if(ClassObject.Description is not null){ #>
/// <summary>
<# var classSummaryLines = ClassObject.Description.Split(Environment.NewLine); #>
<# var lastsummary = classSummaryLines.Last(); #>
<# foreach(var line in classSummaryLines ){ #>
/// <#= line #> <# if(!line.Equals(lastsummary)){ #> <br/>
<# } #>
<# } #>

/// </summary>
<# } #>
[System.CodeDom.Compiler.GeneratedCodeAttribute("zent.ISO20022.Generator", "<#= SoftwareVersion #>")]
[System.SerializableAttribute()]
[System.Diagnostics.DebuggerStepThroughAttribute()]
[System.ComponentModel.DesignerCategoryAttribute("code")]
[System.Xml.Serialization.XmlTypeAttribute(Namespace="urn:iso:std:iso:20022:tech:xsd:<#= SchemaVersion #>")]
<# if(ClassObject.IsRoot){ #>
[System.Xml.Serialization.XmlRootAttribute(Namespace="urn:iso:std:iso:20022:tech:xsd:<#= SchemaVersion #>", IsNullable=false)]
<# } #>
public class <#= ClassObject.Name #>
{
<# foreach(var thisProperty in ClassObject.Properties){ #>
<# if(thisProperty.Description is not null){ #>
	/// <summary>
<# var lines = thisProperty.Description.Split(Environment.NewLine); #>
<# var last = lines.Last(); #>
<# foreach(var line in lines ){ #>
	/// <#= line #> <# if(!line.Equals(last)){ #> <br/>
<# } #>
<# } #>

	/// </summary>
<# } #>
	[System.Xml.Serialization.XmlElementAttribute("<#= thisProperty.XmlTag #>")]
<# if(thisProperty is RegexStringbasedSimpletonObject) { #>
	[RegularExpression(@"<#= ((RegexStringbasedSimpletonObject)thisProperty).Pattern #>", ErrorMessage = "Invalid format of field <#= thisProperty.Name #> (xmlTag: <#= thisProperty.XmlTag #>). It did not adhere to pattern: \"<#= ((RegexStringbasedSimpletonObject)thisProperty).Pattern #>\"")]
	public string <#=  thisProperty.Name #> { get; set; }

<# } else { #>
	public <#= thisProperty.MyStringbasedKind() #> <#=  thisProperty.Name #> { get; set; }

<# } #>
<# } #>
}
