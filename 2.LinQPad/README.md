This folder contains the LinQPad files used to make a quick overview of the model to create the actual Data Model.

In order to understand this ISO20022 model in full, or at least understanding the relationships between each of the components, the PocUnderstandingIso.linq has been created.
The idea is to build a visual displayable model structure based on the .iso20022 file. There is a lot of nodes in the full file, which makes in more unreadable. To understand how they interact with eachother and why they link to eachother in the way they do, a target message has been selected. Pain.001.001.03 has been selected and the first file has been trimmed down to its basics needs (pain.001.001.03_version_eRepository.iso20022). This one should contain only the basic needs for actually making or generating an actual C# class representitive model of the pain.001.001.03 message. 

This is great, but why do the full eRepository have so much more information hidden within it? The pain.001.001.03_version_eRepository_Extended.iso20022 tries to uncover this, by actually adding some of the other components, which are referenced to from the slim model. It turns out it works in a shadow world i.e. the Business-world. So the eRepository consists of both sides of a coin (so to speak); on the one side one got the Message Model Structure and on the other side the Business Model Structure. They are basically the same, but it might be that there can be some additional information to fetch from the business side, which could benefit as notes on the message side (or the future generated C# class model).

The idea of these Proof of Concepts are to generate the logic to actually extract all the wanted information about the future generated classes and keep it in a Object-based model. This model should then be able to be fed into the generator and then a full generated C# class model is generated in the decired way.

# 2022-10-09
It was fine to have used the PocUnderstandingIso.linq file to generate the PlantUml diagram. The problem was however that we cannot get the model right. Some of the dynamic created objects were actually having some "<fieldName>Missing", which meant that the linking of the objects did not find any object with that ID. That sounded like a problem. After some investigation into this part, it actually showed itself off as a false-positive. Meaning, not all attributes with this name referenced to an object. One of these attributes were "Type". In many cases it referenced to an object, which it was a type of, but other cases as in "SemanticMarkup" is had a human understandable meaning instead.
While writing up the PlantUml drawing another issue was discovered. The idea was to make connections between which classes referenced to oneanother, but that again proved to be an impossible task. A lot of places it seems straight forward, but then again some other classes could reference to multiple kinds of classes, which means some sort of inheritance was needed in places like these.
Therefore a new file was created called "PocUnderstandingIsoInBabysteps.linq". The meaning for this was that we take it slow; build on the raw model as we go. First we started out with just a list of XElements. That wasn't so hard and it actually showed that the numbers of children/xmlTags in the ISO20022's eRepository sort of matched up. That meant that we had all the objects in one list. That was the goal as we would want to use that as a lookup dictionary for the linking process.
On top of that the ID was extracted; that's cool - one step closer to that lookup dictionary. The next problem was then: "What about the ones without an ID?". That was a good point and it had to be taken into account. So to begin with these ID-less objects are just subchildren to a child with an ID. The next problem, which we would face is the "type": which type and where do I get it? 
There are two different kinds of types: "XSI:Type" & "XmlType" (or "XmlTag" one might say). So we might want to be able to distinquish between those two kind of types in the future, which is why the raw Model is extended with there fields or metadata.

# 2022-10-16
So how to detect the inheritance within the object? Let's find out in this next round of testing. Perhaps the first part is make the raw model whole. By this the meaning is of course getting the properties, which is not a direct descendant of the object. Yeah, after a quick review of the properties to dictionary code from previous code, it is obvious that the same code cannot be applied there: Some parsing and interpretation is needed. 
So - there was a small inconsistency in the XElements.Descendants - just remember that the Descendants takes ALL Descendants and not just the direct descendant. You are going to kick yourself for forgetting that part.
We didn't manage to get that far, but for now we have a dictionary with all of the raw models and their IDs. This will come in handy, when the method "CorrectXmlProperties" are getting implemented. This method shall translate all of the properties into objects based on the newly created dicionary and it should also isolate properties such as "Type", which can either be a simple type or a "RawModel" as found out on the 9'th of October.

The most important part is to remember: One step closer to a descriptive model is a step closer to understanding the ISO20022 completely.

# 2022-10-25
The model finally came true. Boy, what a journey! Sadly we are not there yet. Looking at the preview in VS Code (yeah - using VS Code with PlantUml plugin for this modelling) the image is going to be very wide. I neat way of discribing it is to take all the lines in the ERepository file and merge them into 50 lines with equal lengths. Nah - just kidding, Notepad will crash before that happens due to overflow of characters in one line. Jokes aside, the image is going to be very large (in a wide scale) and exporting it to PNG cropped it up, which meant that it only took about half of the image (or perhaps two fifths of the image). Trying to export it as PDF or HTML failed as well. The SVG file was the only one seemingly being capable of containing all the data in one file. Please note that the "Page 4x1"/"Page 2x2" has been added in hopes of PlantUml getting a fix out on that part, because it is not working as it is only exporting one image. By some small search it seems like it is a bug, which hasn't been rectified just yet.

# 2022-10-26
YAY! The model has been re-exported as SVG. It is still a mess, but I finally got it cleaned up a bit. It is still a mess, but now it is organized chaos instead of chaotic chaos. Adding some namespaces (which by the way is bad to do in a 600+ line PlantUml file - you might skip something and the namespacing vs. packages are not the same) with some colors and pseudo-organizing it gives a better overview. What's left now is actually checking the model through for errors to see what is missed. One thing though. The Model should NOT be auto generated any longer (don't want to loose my hard work <imagine a laughing smileyface here>).